// adjustments
// stylelint-disable selector-class-pattern
.#{$eccgui}-codeeditor {
    max-width: 100%;
    display: flex;
    position: relative;

    [class^="cm-theme"] {
        width: 100%;
    }

    .cm-editor {
        height: 100%;
        min-height: 290px;
        width: 100%;
        clip-path: unset !important; // we may check later why they set inset(0) now
        border-radius: $pt-border-radius;
        border: 1px solid $eccgui-color-applicationheader-background;

        // get them a "border" like input boxes from blueprintjs
        box-shadow: input-transition-shadow($input-shadow-color-focus), $pt-input-box-shadow;

        &.cm-focused {
            border: 2px solid $eccgui-color-info-text;
            outline: none;
            border-radius: $pt-border-radius;
        }

        .CodeMirror-hscrollbar {
            bottom: 1px;
            height: $eccgui-size-inline-whitespace !important;
        }

        .CodeMirror-vscrollbar {
            top: 1px;
            right: 1px;
            width: $eccgui-size-inline-whitespace !important;
        }

        .CodeMirror-scrollbar-filler {
            right: 1px;
            bottom: 1px;
        }

        .cm-content {
            background-color: #ffffff;
            border-right-width: $eccgui-size-inline-whitespace !important;
        }

        .cm-tab {
            position: relative;

            // mark tabulator chars
            background-color: $eccgui-color-info-background;

            &::after {
                position: absolute;
                left: 10%;
                color: rgba($eccgui-color-workspace-text, $eccgui-opacity-muted);
                content: "â‡¥";
            }
        }
    }
}

.#{$prefix}--accordion__content {
    .CodeMirror-scroll,
    .CodeMirror-sizer,
    .CodeMirror-gutter,
    .CodeMirror-gutters,
    .CodeMirror-linenumber {
        box-sizing: content-box;
    }
}

// fix a few xq-light colors regarding bad contrasts

.cm-s-xq-light {
    // add other classes if necessary
    .cm-meta {
        filter: invert(1);
    }
}
// stylelint-enable selector-class-pattern
