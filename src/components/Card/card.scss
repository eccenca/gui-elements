$card-padding: 0 !default;
$card-background-color: $white !default;
//$dark-card-background-color: $dark-gray4 !default;

$eccgui-size-card-spacing: $eccgui-size-typo-base !default;

@import "~@blueprintjs/core/src/components/card/card";

.#{$eccgui}-card {
    display: flex;
    flex-flow: column nowrap;
    justify-content: flex-start;
    align-items: stretch;

    &.#{$eccgui}-intent--primary {
        background-color: mix($eccgui-color-primary, $card-background-color, 5%);
    }
    &.#{$eccgui}-intent--accent {
        background-color: mix($eccgui-color-accent, $card-background-color, 10%);
    }
    &.#{$eccgui}-intent--success {
        background-color: $eccgui-color-success-background;
    }
    &.#{$eccgui}-intent--info {
        background-color: $eccgui-color-info-background;
    }
    &.#{$eccgui}-intent--warning {
        background-color: $eccgui-color-warning-background;
    }
    &.#{$eccgui}-intent--danger {
        background-color: $eccgui-color-danger-background;
    }

    &.#{$ns}-interactive:hover {
        background-color: $button-background-color-hover;
    }
}

.#{$eccgui}-card--elevated {
    background-color: $button-background-color-active;
}

.#{$eccgui}-card--fullheight {
    @extend .#{$eccgui}-grid__row--fullheight;
}

.#{$eccgui}-card--scrollonfocus {
    outline: none;
}

.#{$eccgui}-card__header {
    padding: $eccgui-size-card-spacing * 0.5 $eccgui-size-card-spacing * 0.5 $eccgui-size-card-spacing * 0.5 $eccgui-size-card-spacing;
    box-sizing: content-box;
    flex-grow: 0;
    flex-shrink: 0;

    .#{$eccgui}-card--whitespace-none > header > & {
        padding: 0
    }

    .#{$eccgui}-card--whitespace-small > header > & {
        padding: $eccgui-size-card-spacing * 0.25 $eccgui-size-card-spacing * 0.25 $eccgui-size-card-spacing * 0.25 $eccgui-size-card-spacing * 0.5;
    }

    .#{$eccgui}-card--whitespace-large > header > & {
        padding: $eccgui-size-card-spacing $eccgui-size-card-spacing $eccgui-size-card-spacing $eccgui-size-card-spacing * 2;
    }
}

.#{$eccgui}-card__title {
    font-weight: normal;

    &.#{$eccgui}-intent--primary {
        color: $eccgui-color-primary;
    }
    &.#{$eccgui}-intent--accent {
        color: $eccgui-color-accent;
    }
    &.#{$eccgui}-intent--success {
        color: $eccgui-color-success-text;
    }
    &.#{$eccgui}-intent--info {
        color: $eccgui-color-info-text;
    }
    &.#{$eccgui}-intent--warning {
        color: $eccgui-color-warning-text;
    }
    &.#{$eccgui}-intent--danger {
        color: $eccgui-color-danger-text;
    }

    & > * {
        font-weight: inherit;
    }
}

.#{$eccgui}-card__content {
    padding: $eccgui-size-card-spacing * 0.5 $eccgui-size-card-spacing $eccgui-size-card-spacing $eccgui-size-card-spacing;
    flex-grow: 1;
    flex-shrink: 1;
    overflow: auto;

    .#{$eccgui}-card--whitespace-none > & {
        padding: 0;
    }

    .#{$eccgui}-card--whitespace-small > & {
        padding: $eccgui-size-card-spacing * 0.25 $eccgui-size-card-spacing * 0.5 $eccgui-size-card-spacing * 0.5 $eccgui-size-card-spacing * 0.5;
    }

    .#{$eccgui}-card--whitespace-large > & {
        padding: $eccgui-size-card-spacing $eccgui-size-card-spacing * 2 $eccgui-size-card-spacing * 2 $eccgui-size-card-spacing * 2;
    }

    .#{$eccgui}-separation__divider-horizontal + &,
    &:first-child {
        padding-top: $eccgui-size-card-spacing;

        .#{$eccgui}-card--whitespace-none > & {
            padding-top: 0;
        }

        .#{$eccgui}-card--whitespace-small > & {
            padding-top: $eccgui-size-card-spacing * 0.5;
        }

        .#{$eccgui}-card--whitespace-large > & {
            padding-top: $eccgui-size-card-spacing * 2;
        }
    }
}

.#{$eccgui}-card__content--noflexheight {
    flex-grow: 0;
    flex-shrink: 0;
}

.#{$eccgui}-card__actions {
    padding: $eccgui-size-card-spacing * 0.25 $eccgui-size-card-spacing;
    flex-grow: 0;
    flex-shrink: 0;
    display: flex;
    flex-flow: row wrap;
    align-items: center;

    .#{$eccgui}-card--whitespace-none > & {
        padding: 0;
    }

    .#{$eccgui}-card--whitespace-small > & {
        padding: $eccgui-size-card-spacing * 0.125 $eccgui-size-card-spacing * 0.5;
    }

    .#{$eccgui}-card--whitespace-large > & {
        padding: $eccgui-size-card-spacing * 0.75 $eccgui-size-card-spacing * 2;
    }

    & > * {
        margin: $eccgui-size-card-spacing * 0.25 0;
    }

    &:not(.#{$eccgui}-card__actions--inversedirection) > * {
        &:not(:first-child) {
            margin-left: $eccgui-size-card-spacing * 0.25;
        }
        &:not(:last-child) {
            margin-right: $eccgui-size-card-spacing * 0.25;
        }
    }

    &.#{$eccgui}-card__actions--inversedirection > * {
        &:not(:first-child) {
            margin-right: $eccgui-size-card-spacing * 0.25;
        }
        &:not(:last-child) {
            margin-left: $eccgui-size-card-spacing * 0.25;
        }
    }

    &.#{$eccgui}-intent--success > .#{$eccgui}-button:first-child {
        @extend .#{$ns}-intent-success;
    }
    &.#{$eccgui}-intent--info > .#{$eccgui}-button:first-child {
        @extend .#{$ns}-intent-primary;
    }
    &.#{$eccgui}-intent--warning > .#{$eccgui}-button:first-child {
        @extend .#{$ns}-intent-warning;
    }
    &.#{$eccgui}-intent--danger > .#{$eccgui}-button:first-child {
        @extend .#{$ns}-intent-danger;
    }
}

.#{$eccgui}-card__actions--inversedirection {
    flex-direction: row-reverse;
}

.#{$eccgui}-card__actions__aux {
    order: 1000;
    flex-grow: 1;
    display: flex;
    flex-flow: row wrap;
    justify-content: flex-end;
    align-items: center;
    margin: 0;

    & > * {
        margin: $eccgui-size-card-spacing * 0.25 0;
    }

    &:not(.#{$eccgui}-card__actions--inversedirection) > * {
        &:not(:first-child) {
            margin-left: $eccgui-size-card-spacing * 0.25;
        }
        &:not(:last-child) {
            margin-right: $eccgui-size-card-spacing * 0.25;
        }
    }

    &.#{$eccgui}-card__actions--inversedirection > * {
        &:not(:first-child) {
            margin-right: $eccgui-size-card-spacing * 0.25;
        }
        &:not(:last-child) {
            margin-left: $eccgui-size-card-spacing * 0.25;
        }
    }

    .#{$eccgui}-card__actions--inversedirection > & {
        justify-content: flex-start;
    }
}
